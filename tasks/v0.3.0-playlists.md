# Version 0.3.0 - Playlists

**Theme:** In memory playlists, user-playlist association.

**Plan:** [playtime-release-plan.md](../playtime-release-plan.md)

---

## Goals

- Create in-memory playlist model
- Associate playlists with users
- Filter playlists by user
- Create playlist listing UI
- Enable playlist creation

---

## Stories

### Epic: Playlist Model

| ID    | Story                                                                                   | Points | Acceptance Criteria                                                                                         |
| ----- | --------------------------------------------------------------------------------------- | ------ | ----------------------------------------------------------------------------------------------------------- |
| S-026 | As a developer, I want a Playlist model so that I can store playlist data               | 3      | playlistMemStore with addPlaylist, getAllPlaylists, getPlaylistById, deletePlaylistById, deleteAllPlaylists |
| S-027 | As a developer, I want a db abstraction so that I can swap store implementations         | 2      | db.js exports playlistStore; init() configures stores                                                        |

### Epic: User-Playlist Association

| ID    | Story                                                                                | Points | Acceptance Criteria                                                         |
| ----- | ------------------------------------------------------------------------------------ | ------ | --------------------------------------------------------------------------- |
| S-028 | As a developer, I want playlists to have a userid field so that ownership is tracked | 2      | Playlist model includes userid; set on creation                             |
| S-029 | As a user, I want to see only my playlists so that my data is private                | 2      | getUserPlaylists(userid) filters by owner; dashboard uses logged-in user ID |
| S-030 | As a user, when I create a playlist, it is associated with my account                | 2      | addPlaylist handler sets userid from request.auth.credentials               |

### Epic: Playlist UI

| ID    | Story                                                                                | Points | Acceptance Criteria                                  |
| ----- | ------------------------------------------------------------------------------------ | ------ | ---------------------------------------------------- |
| S-031 | As a user, I want a dashboard page so that I can see my playlists                    | 3      | Dashboard renders at /dashboard; shows playlist list |
| S-032 | As a user, I want to see a list of playlists so that I know what exists              | 2      | Playlist titles display in cards/boxes               |
| S-033 | As a user, I want a form to add playlists so that I can create new ones              | 2      | Form with title field and submit button              |
| S-034 | As a user, I can add a playlist so that it appears on my dashboard                   | 3      | POST /dashboard/addplaylist creates playlist; redirects to dashboard     |

### Epic: E2E Playlists (Testing)

| ID   | Story                                                                                          | Points | Acceptance Criteria                                                                 |
| ---- | ---------------------------------------------------------------------------------------------- | ------ | ----------------------------------------------------------------------------------- |
| T-008 | As a developer, I want E2E playlist tests so that CRUD and ownership are verified             | 3      | test/e2e/playlists.spec.js: create playlist, see in list; open (empty); delete; second user sees only own playlists |

### Epic: Playlist Store Unit Tests (Testing)

| ID   | Story                                                                                    | Points | Acceptance Criteria                                                                 |
| ---- | ---------------------------------------------------------------------------------------- | ------ | ----------------------------------------------------------------------------------- |
| T-009 | As a developer, I want Playlist store unit tests so that CRUD and getUserPlaylists are verified | 3      | test/playlist-model-test.js: addPlaylist, getPlaylistById, getUserPlaylists, deletePlaylistById, deleteAll |

---

## New Deliverables

```
+ src/models/mem/playlist-mem-store.js
+ src/views/partials/list-playlists.hbs
+ src/views/partials/add-playlist.hbs

Modified:
~ src/models/db.js (playlistStore)
~ src/controllers/dashboard-controller.js (playlist listing, user filtering, addPlaylist handler)
~ src/views/dashboard-view.hbs (playlist list)
~ src/web-routes.js (playlist routes)
+ test/e2e/playlists.spec.js
+ test/playlist-model-test.js
```

---

## Total: ~25 Story Points
